library(dateutils)

print(as.ddur("P0"))
print(as.ddur("P2W"))
print(as.ddur("P2Y2M"))
print(as.ddur("P2W2D"))
print(as.ddur("P2Y2M2W2D"))

print("")
print(as.EDate("2000-2-28") + as.ddur("P0"))
print(as.EDate("2000-2-28") + as.ddur("P1D"))
print(as.EDate("2000-2-28") + as.ddur("P1W"))
print(as.EDate("2000-2-28") + as.ddur("P-1D"))
print(as.EDate("2000-2-28") + as.ddur("P-2W"))

print("")
print(as.EDate("2000-2-29") + as.ddur("P1M"))
print(as.EDate("2000-2-29") + as.ddur("P-1M"))
print(as.EDate("2000-2-29") + as.ddur("P-13M"))
print(as.EDate("2000-2-29") + as.ddur("P1Y"))
print(as.EDate("2000-2-29") + as.ddur("P-1Y"))

print("")
print(as.EDate("2000-1-31") + as.ddur("P1M"))
print(as.EDate("2000-1-31") + as.ddur("P1M1D"))
print(as.EDate("2000-1-31") + as.ddur("P3M"))
print(as.EDate("2000-1-31") + as.ddur("P3M2D"))
print(as.EDate("2000-1-31") + as.ddur("P-2M"))
print(as.EDate("2000-1-31") + as.ddur("P-2M-1D"))
print(as.EDate("2000-1-31") + as.ddur("P1M-1D"))
print(as.EDate("2000-1-31") + as.ddur("P-2M1D"))

print("")
print(as.ddur("P0") + as.ddur("P2M"))
print(as.ddur("P2D") + as.ddur("P2M"))
print(as.ddur("P-1D") + as.ddur("P2M"))
print(as.ddur("P2D") - as.ddur("P2D"))
print(as.ddur("P2D") - as.ddur("P2M"))
print(-as.ddur("P-2M2D"))
print(as.ddur("AA") + as.ddur("P2M"))
print(as.ddur("TN") + as.ddur("XN"))

print("")
print(as.EDate("2000-2-29") - as.EDate("2000-1-20"))
print(as.EDate("2000-2-29") - as.EDate("2001-1-20"))
print(as.EDate("2000-2-29") - as.EDate("2000-2-10"))
print(as.EDate("2000-2-10") - as.EDate("2000-2-29"))
print(as.EDate("2000-2-29") - as.EDate("2000-3-10"))
print(as.EDate("2000-3-10") - as.EDate("2000-2-29"))
print(as.EDate("2000-2-29") - as.EDate("2001-1-32"))
print(as.EDate(NA_character_) - as.EDate("2001-1-20"))

print("")
print(ddur(as.EDate("2000-2-29"),as.EDate("2000-3-10")))
print(ddur(as.EDate("2000-3-10"),as.EDate("2000-2-29")))
print(ddur(as.EDate(NA_character_), as.EDate("2001-1-20")))
